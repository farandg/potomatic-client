<!DOCTYPE html>
<html>
  <head>
    <title>POTOSWAY</title>
    <link rel="stylesheet" type="text/css" href="../static/style.css/">
  </head>
  <body>
    <div class="top-images">
      <img src="http://bigpi.local:3000/d/xfpJB9FGz/potoview?orgId=1&var-job=node-exporter&var-hostname=All&var-node=localhost%3A9100&var-device=All&var-origin_prometheus=&from=1673756689858&to=1673778289858&theme=light&viewPanel=13" alt="Image 1">
      <img src="http://bigpi.local:3000/d/xfpJB9FGz/potoview?orgId=1&var-job=node-exporter&var-hostname=All&var-node=localhost%3A9100&var-device=All&var-origin_prometheus=&from=1673756689858&to=1673778289858&theme=light&viewPanel=13" alt="Image 2">
    </div>
    <div class="control-panels">
      <div class="control-panel">
        <h3>Humidity and Temperature</h3>
        <div class="info-bar">Humidity: {{ _humidity }} %</div>
        <div class="info-bar">Temperature: {{ _celsius }} Â°C</div>
        </div>
      </div>
      <div class="control-panel">
        <h3>LED Control</h3>
        <a href="/led/on" class="button">ON</a>
        <a href="/led/off" class="button">OFF</a>
        <a href="/led/blink" class="button">BLINK</a>
      </div>
      <div class="control-panel">
        <h3>RGB Control</h3>
        <div class="info-bar">Status: {{ led_status }}</div>
        <a href="/rgb/on" class="button">ON</a>
        <a href="/rgb/off" class="button">OFF</a>
        <a href="/rgb/disco" class="button">DISCO</a>
      </div>
      <div class = "control-panel" style = "width:1100px;">
        <h3>RGB Control</h3>
        <div class="info-bar">Status: {{ led_status }}</div>
        <div class = "control-panel" style = "width:500px; float:left;">
            <h3 style="color: #E76F51;">Green</h3>
            <div class="slidercontainerRed">
              <input type="range" min="0" max="255" value="255" class="sliderRed" id="myRangeRed">
              <p>Intensity: <span id="redVal"></span></p>
            </div>
            <h3 style="color: #2A9D8F;">Green</h3>
            <div class="slidercontainerGreen">
              <input type="range" min="0" max="255" value="255" class="sliderGreen" id="myRangeGreen">
              <p>Intensity: <span id="greenVal"></span></p>
            </div>

            <h3 style="color: #264653;">Blue</h3>
            <div class="slidercontainerBlue">
              <input type="range" min="0" max="255" value="255" class="sliderBlue" id="myRangeBlue">
              <p>Intensity: <span id="blueVal"></span></p>
            </div>
        </div>
        
        <div class = "right-box" style = "width:600px; float:right;">
            </br>
            </br>
            <div class = "input-color">
                <div class = "color-box" style="border-style: solid; border-width: 2px; border-color: #eeeeee; background-color: #ffffff;"></div>
            </div>
        </div>
    </div>

    <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function(){
        var sliderRed = document.getElementById("myRangeRed");
        var outputRed = document.getElementById("redVal");
        outputRed.innerHTML = sliderRed.value;

        var sliderGreen = document.getElementById("myRangeGreen");
        var outputGreen = document.getElementById("greenVal");
        outputGreen.innerHTML = sliderGreen.value;

        var sliderBlue = document.getElementById("myRangeBlue");
        var outputBlue = document.getElementById("blueVal");
        outputBlue.innerHTML = sliderBlue.value;
                
        sliderRed.oninput = function() {
          outputRed.innerHTML = this.value;
          
          var sliderRed = parseInt(document.getElementById("myRangeRed").value,10).toString(16);
          var sliderGreen = parseInt(document.getElementById("myRangeGreen").value,10).toString(16);
          var sliderBlue = parseInt(document.getElementById("myRangeBlue").value,10).toString(16);
          
          if(sliderRed.length < 2){
            sliderRed = "0"+sliderRed;
          }
          if(sliderGreen.length < 2){
            sliderGreen = "0"+sliderGreen;
          }
          if(sliderBlue.length < 2){
            sliderBlue = "0"+sliderBlue;
          }
          
          var hexColor = sliderRed+sliderGreen+sliderBlue;
          $(".color-box").css("background-color", "#"+hexColor);

          jQuery.ajax({
            url: "/result/red/"+this.value,
            cache: false
          });
        }

        sliderGreen.oninput = function() {
          outputGreen.innerHTML = this.value;
          
          var sliderRed = parseInt(document.getElementById("myRangeRed").value,10).toString(16);
          var sliderGreen = parseInt(document.getElementById("myRangeGreen").value,10).toString(16);
          var sliderBlue = parseInt(document.getElementById("myRangeBlue").value,10).toString(16);
          
          if(sliderRed.length < 2){
            sliderRed = "0"+sliderRed;
          }
          if(sliderGreen.length < 2){
            sliderGreen = "0"+sliderGreen;
          }
          if(sliderBlue.length < 2){
            sliderBlue = "0"+sliderBlue;
          }
          
          var hexColor = sliderRed+sliderGreen+sliderBlue;
          $(".color-box").css("background-color", "#"+hexColor);
          
          jQuery.ajax({
            url: "/result/green/"+this.value,
            cache: false
          });
        }

        sliderBlue.oninput = function() {
          outputBlue.innerHTML = this.value;
          
          var sliderRed = parseInt(document.getElementById("myRangeRed").value,10).toString(16);
          var sliderGreen = parseInt(document.getElementById("myRangeGreen").value,10).toString(16);
          var sliderBlue = parseInt(document.getElementById("myRangeBlue").value,10).toString(16);
          
          if(sliderRed.length < 2){
            sliderRed = "0"+sliderRed;
          }
          if(sliderGreen.length < 2){
            sliderGreen = "0"+sliderGreen;
          }
          if(sliderBlue.length < 2){
            sliderBlue = "0"+sliderBlue;
          }
          
          var hexColor = sliderRed+sliderGreen+sliderBlue;
          $(".color-box").css("background-color", "#"+hexColor); 
         
          jQuery.ajax({
            url: "/result/blue/"+this.value,
            cache: false
          });
        }
      });
    </script>
</body>
</html>
